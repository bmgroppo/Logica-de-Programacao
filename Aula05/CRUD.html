<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD de Array</title>
    <!-- Menu:
    1-Adicionar, 2-Listar, 3-Atualizar, 4-Remover, 5-Sair
    Usar do-while, switch-case, função e array. -->
</head>
<body>
    <h2>Abra o console do navegador</h2>
    <button onclick="menu()">Executar</button>
    <script defer>
        const usuarios = [];
        function menu() {
            let opcao;
            do {
                opcao = prompt(
                    "MENU:\n" +
                    "1 - Adicionar\n" +
                    "2 - Listar\n" +
                    "3 - Atualizar\n" +
                    "4 - Remover\n" +
                    "5 - Sair"
                );
                switch (opcao) {
                    case "1":
                        const nome = prompt("Digite o nome do usuário");
                        if (nome) {
                            usuarios.push(nome);
                            alert(`Usuário ${nome} acrescentado!`);
                        } else {
                            alert("Nome inválido!");
                        }
                        break;
                    case "2":
                        if (usuarios.length === 0) {
                            alert("Nenhum usuário cadastrado!");
                        } else {
                            console.log("Usuários:");
                            usuarios.forEach((nome, i) => console.log(`${i} - ${nome}`));
                        }
                        break;
                    case "3":
                        if (usuarios.length === 0) {
                            alert("Nenhum usuário cadastrado!");
                            break;
                        }
                        const indiceAtualizar = prompt("Digite o índice do usuário que deseja atualizar:");
                        if (usuarios[indiceAtualizar] !== undefined) {
                            const novoNome = prompt("Digite o novo nome do usuário:");
                            if (novoNome) {
                                usuarios[indiceAtualizar] = novoNome;
                                alert("Usuário atualizado com sucesso!");
                            } else {
                                alert("Nome inválido!");
                            }
                        } else {
                            alert("Índice inválido!");
                        }
                        break;
                    case "4":
                        if (usuarios.length === 0) {
                            alert("Nenhum usuário cadastrado!");
                            break;
                        }
                        const indiceRemover = prompt("Digite o índice do usuário que deseja remover:");
                        if (usuarios[indiceRemover] !== undefined) {
                            const removido = usuarios.splice(indiceRemover, 1);
                            alert(`Removido: ${removido}`);
                        } else {
                            alert("Índice inválido!");
                        }
                        break;
                    case "5":
                        alert("Tchau!");
                        break;
                    default:
                        alert("Opção inválida!");
                }
            } while (opcao !== "5");
        }
    </script>
</body>
</html>